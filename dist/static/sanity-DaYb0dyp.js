import{defineType as r,defineField as t,defineConfig as n,renderStudio as l}from"sanity";import{structureTool as s}from"sanity/structure";import{visionTool as d}from"@sanity/vision";const p=r({name:"project",title:"Project",type:"document",fields:[t({name:"category",title:"Category",type:"string",description:"Project category - affects numbering prefix (P01, T01, C01, E01)",options:{list:[{title:"Project",value:"project"},{title:"Travel",value:"travel"},{title:"Commercial",value:"commercial"},{title:"Editorial",value:"editorial"}],layout:"dropdown"},validation:e=>e.required(),initialValue:"project"}),t({name:"number",title:"Number (within category)",type:"number",description:"Position within category (1, 2, 3, etc.). Each category has its own numbering.",validation:e=>e.required().integer().positive()}),t({name:"title",title:"Title",type:"string",validation:e=>e.required()}),t({name:"slug",title:"Slug",type:"slug",description:"Auto-generated from title. Used in URL.",options:{source:"title",maxLength:96},validation:e=>e.required()}),t({name:"location",title:"Location",type:"string",validation:e=>e.required()}),t({name:"year",title:"Year",type:"string",validation:e=>e.required()}),t({name:"description",title:"Description",type:"array",of:[{type:"block",styles:[{title:"Normal",value:"normal"}],lists:[],marks:{decorators:[],annotations:[]}}],validation:e=>e.required()}),t({name:"images",title:"Images",type:"array",description:"Upload images in bulk. Alt text will be auto-generated as Title-01, Title-02, etc.",of:[{type:"image",options:{hotspot:!0,metadata:["lqip","palette"]}}],validation:e=>e.required().min(1)}),t({name:"videos",title:"Videos",type:"array",description:"Add videos from Vimeo, YouTube, or other platforms. Videos will be displayed alongside images in the project slideshow.",of:[{type:"object",name:"video",title:"Video",fields:[{name:"url",title:"Video URL",type:"url",description:"Full URL from Vimeo (https://vimeo.com/...) or YouTube (https://www.youtube.com/watch?v=...)",validation:e=>e.required().uri({scheme:["https","http"]})},{name:"title",title:"Video Title",type:"string",description:"Optional: Custom title for the video"},{name:"thumbnailUrl",title:"Custom Thumbnail URL",type:"url",description:"Optional: Custom thumbnail image URL. If not provided, will attempt to fetch from video provider."},{name:"position",title:"Position in Gallery",type:"number",description:"Where to insert this video among the images (e.g., 3 = after the 3rd image). Leave empty to add at the end.",validation:e=>e.integer().positive()}],preview:{select:{title:"title",url:"url"},prepare({title:e,url:i}){let o="Video";return i?.includes("vimeo.com")?o="Vimeo":(i?.includes("youtube.com")||i?.includes("youtu.be"))&&(o="YouTube"),{title:e||"Untitled Video",subtitle:`${o} - ${i||"No URL"}`}}}}]}),t({name:"collaboration",title:"Collaboration",type:"string",description:'Optional: e.g., "In collaboration with Ana Gallart"'}),t({name:"client",title:"Client",type:"string",description:'Optional: e.g., "Thinking Mu" or "Personal Project"'}),t({name:"date",title:"Date",type:"string",description:'Optional: e.g., "Shot between April 12 - May 2"'})],preview:{select:{title:"title",number:"number",category:"category",media:"images.0"},prepare({title:e,number:i,category:o,media:a}){return{title:`${`${{project:"P",travel:"T",commercial:"C",editorial:"E"}[o]||"P"}${String(i).padStart(2,"0")}`}. ${e}`,media:a}}},orderings:[{title:"By Number",name:"numberAsc",by:[{field:"number",direction:"asc"}]}]}),m=r({name:"about",title:"About",type:"document",fields:[t({name:"name",title:"Name",type:"string",validation:e=>e.required()}),t({name:"bio",title:"Bio",type:"text",rows:4,validation:e=>e.required()}),t({name:"email",title:"Email",type:"string",description:"e.g., info@pepperezguarro.com",validation:e=>e.required().email()}),t({name:"phone",title:"Phone 1",type:"string",description:"e.g., +34 666 18 13 48",validation:e=>e.required()}),t({name:"phone2",title:"Phone 2",type:"string",description:"e.g., +33 767 65 76 43 (optional second phone number)"}),t({name:"instagram",title:"Instagram Handle",type:"string",description:"e.g., @pepperezguarro (include the @ symbol)",validation:e=>e.required()}),t({name:"collaborators",title:"Collaborators",type:"array",of:[{type:"string"}],description:"List of brands/companies collaborated with"}),t({name:"publications",title:"Publications",type:"array",of:[{type:"string"}],description:"List of publications featured in"})],preview:{select:{title:"name"}}}),c=[p,m],u=n({name:"default",title:"PepPerez Portfolio",projectId:"vynr1qpf",dataset:"production",plugins:[s({structure:e=>e.list().title("Content").items([e.listItem().title("Projects").child(e.documentTypeList("project").title("Projects").defaultOrdering([{field:"number",direction:"asc"}])),e.listItem().title("About").child(e.document().schemaType("about").documentId("about"))])}),d()],schema:{types:c}});l(document.getElementById("sanity"),u,{reactStrictMode:!1,basePath:"/"});
